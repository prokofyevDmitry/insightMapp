<?php
session_start();

// les types des entrées:
// on suppose que tout les données reçus sont remplis, un script en javascript va s'occuper de tester la bonne présence des variables.
/*nomchamp:alias
 * nom
 * prenom
 * mail : filter_var($mail, 'FILTER_VALIDATE_EMAIL');
 * mdp
 * repetition mdp
 * 
 */

function test_input($test, $methode)
{

	
	
	
	
	
	$type_methode = array( 
	'nom','prenom','mail','mdp','repetition_mdp'	
	);
	$result = false;
	
	// l'idée est de regrouper les differents champs par les tests qu'il faut effectuer:
	
	// on définit tout les régex
	
	
	
		
		
		
		switch($methode) // l'ordre est défini par le POST
		{
			case 'nom': $test_result[0] = test_name($input); break;
			case 'prenom':$test_result[1] = test_name($input); break;
			case 'mail':$test_result[1] = test_mail($input); break;
				
		}
	
	
	
	// test nom et prénom: pas de digitales, pas de caractères spéciaux. 
	function test_name($string)
	{
		
		if( preg_match('#\d|\W|\s|(^_$)#', $string))  // \d : un chiffre, \W un caractère non alphanumérique \s
		return 1
		else return 0;
			
	}
	
	
	
}


